# 定义

内部函数总是可以访问其所在的外部函数中声明的参数和变量，即使在其外部函数被返回（寿命终结）了之后。



## 补充定义：

这点是看下面冴羽的文章学到的，也就是理论闭包和实际闭包的区分。

> 在《JavaScript权威指南》中就讲到：从技术的角度讲，所有的JavaScript函数都是闭包。





这是理论上的闭包，其实还有一个实践角度上的闭包，让我们看看汤姆大叔翻译的关于闭包的文章中的定义：

ECMAScript中，闭包指的是：

1. 从理论角度：所有的函数。因为它们都在创建的时候就将上层上下文的数据保存起来了。哪怕是简单的全局变量也是如此，因为函数中访问全局变量就相当于是在访问自由变量，这个时候使用最外层的作用域。
2. 从实践角度：以下函数才算是闭包：
    1. 即使创建它的上下文已经销毁，它仍然存在（比如，内部函数从父函数中返回）
    2. 在代码中引用了自由变量





# 我的文章

回头看我的文章，似乎缺少了最上面那一段对闭包的定义，也就是直面回答：什么是闭包？这个问题。

我写的文章中主要还是对闭包实例的讲解，帮助理解什么是闭包。

https://juejin.cn/post/6961759251203096583#heading-15








整理的时候看，我写的文章是对实践闭包的讲解。

如果说要对理论闭包进行讲解，我觉得可以从JS的V8引擎对JS代码的执行这个角度切入。（尝试从这个角度进行讲解，发现有点迷茫，觉得好像就是套娃那种，所有的函数都是闭包。但又觉得没那么简单，所以将这个问题先遗留一下。）







---

# 冴羽的观点





这是冴羽大佬的文章，拓展一种新的对闭包的看法：

闭包是指那些能够访问自由变量的函数。

举个例子：

```JavaScript
var a = 1;

function foo() {

  console.log(a);

}

foo()
```

> foo 函数可以访问变量 a，但是 a 既不是 foo 函数的局部变量，也不是 foo 函数的参数，所以 a 就是自由变量。     那么，函数 foo + foo 函数访问的自由变量 a 不就是构成了一个闭包嘛……





这是MDN的对闭包的定义，适合已经理解闭包是什么、能够准确判别闭包的时候，对别人的简短回答。

但是我觉得这样回答的话，必须举例补充。否则很懵。







# 内存泄漏的检测方式

https://juejin.cn/post/6844904019983335438

